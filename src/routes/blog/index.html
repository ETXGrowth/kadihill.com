<svelte:head>
	<title>Kadi Hill | Blog</title>
</svelte:head>

<ul>
	{#each posts as post}
	<li>
		<h1>
			<a rel='prefetch' href='blog/{post.slug}'>
				{post.title}
			</a>
		</h1>
		<p class='date'>{post.pubDate}</p>
		<p class='description'>
			{post.description}
			<a class='keep-reading' href='blog/{post.slug}'>keep reading &#8594;</a>
		</p>
	</li>
	{/each}
</ul>

<style>
	.keep-reading {
		font-size: 0.75em;
		display: block;
		text-indent: 0;
	}
	ul {
		margin: 0 0 1em 0;
		line-height: 1.5;
		list-style: none;
	}
	li {
		margin: 1em;
	}
	h1 {
		margin-top: 1em;
	}
	a {
		font-weight: 800;
		outline: 0;
		text-decoration: none;
	}
	.date {
		font-style: italic;
		margin-left: 2em;
	}
	.description {
		margin: 1em;
	}
</style>
<script>
	export default {
		preload({ params, query }) {
			return this.fetch(`blog.json`).then(r => r.json()).then(posts => {
				return { posts }
			})
		}
	}
</script>
